# ADR-002: Стандартизация обработки ошибок по RFC 7807

## Status
Статус: Accepted

## Context
Текущая система ошибок использует нестандартный формат:
- Отсутствует correlation_id для трассировки
- Детали ошибок могут раскрывать внутреннюю информацию
- Нет структурированной информации об ошибках

## Decision
Реализовать обработку ошибок по стандарту RFC 7807:
1. Внедрить correlation_id для каждой ошибки
2. Маскировать детали ошибок в production
3. Создать карту ошибок с кодами и сообщениями
4. Единый формат ответа для всех ошибок

## Consequences
- Стандартизированный API для ошибок
- Улучшенная отладка в development
- Защита от раскрытия внутренней информации

## Links
- NFR-10 (Логирование безопасности)
- NFR-07 (Стандартизация API-ошибок)
- R001 (Обработка ошибок)
- Тест: tests/test_security/test_error_format.py
