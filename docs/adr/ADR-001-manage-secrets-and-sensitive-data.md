# ADR-001: Управление секретами и конфиденциальными данными

## Status
Статус: Accepted

## Context
Текущая реализация не определяет политику хранения и использования секретов.

В коде могут появляться чувствительные данные (JWT секреты, ключи доступа, пароли), что создаёт риски:
- случайная утечка секретов в Git;
- невозможность безопасной ротации;
- использование одинаковых секретов в dev/prod окружениях.

## Decision
Ввести централизованное и безопасное управление секретами:
1. Все секреты (`JWT_SECRET`, `DATABASE_URL`, `ARGON2_SALT` и др.) хранятся только в переменных окружения.
2. Для локальной разработки используется `.env` файл, который включён в .gitignore.
3. В CI/CD секреты передаются из защищённого хранилища (например, `GitHub Secrets`, `HashiCorp Vault`, `AWS Secrets Manager`).
4. Реализовать автоматическую ротацию JWT-ключа не реже 1 раза в 7 дней.
5. Логирование исключает попадание секретов и токенов.

## Consequences
- Снижается риск утечки чувствительных данных.
- Упрощается управление окружениями и CI/CD.
- Появляется контроль ротации и политики доступа.

## Links
- NFR-01 (JWT аутентификация)
- NFR-06 (Безопасность паролей)
- NFR-08 (Безопасность зависимостей / build pipeline)
- Тест: tests/test_security/test_secrets_policy.py
